# AutoPR Configuration
# Run `ap init` for interactive setup, or copy this file and customize.
#
# Tokens: store in ~/.config/autopr/credentials.toml or set env vars
# (GITHUB_TOKEN, GITLAB_TOKEN, SENTRY_TOKEN, AUTOPR_WEBHOOK_SECRET)
#
# Data files (DB, repos) default to ~/.local/share/autopr/
# State files (logs, PID) default to ~/.local/state/autopr/
# Override with XDG_DATA_HOME / XDG_STATE_HOME or set paths explicitly below.
# Run `ap paths` to see resolved locations.

# db_path = "/custom/path/autopr.db"     # default: ~/.local/share/autopr/autopr.db
# repos_root = "/custom/path/repos"      # default: ~/.local/share/autopr/repos
# log_file = "/custom/path/autopr.log"   # default: ~/.local/state/autopr/autopr.log
log_level = "info"                        # debug, info, warn, error

[daemon]
webhook_port = 9847
# webhook_secret = ""      # Set via AUTOPR_WEBHOOK_SECRET env var
max_workers = 3
max_iterations = 3
sync_interval = "5m"
# pid_file = "/custom/path/autopr.pid"   # default: ~/.local/state/autopr/autopr.pid
# auto_pr = false               # Set true to auto-create PRs after tests pass

# [sentry]
# base_url = "https://sentry.io"  # uncomment for self-hosted Sentry

[llm]
provider = "claude"  # claude or codex

# Project definitions â€” add one [[projects]] block per project.
[[projects]]
name = "my-project"
repo_url = "https://gitlab.com/myorg/my-project.git"
test_cmd = "make test"
base_branch = "main"

  [projects.gitlab]
  base_url = "https://gitlab.com"
  project_id = "12345"

  # [projects.github]
  # owner = "myorg"
  # repo = "my-project"
  # include_labels = ["autopr"]  # optional: ANY match; empty means all open issues

  # [projects.sentry]
  # org = "myorg"
  # project = "my-project"

  # Override default LLM prompts with custom markdown files:
  # [projects.prompts]
  # plan = "/path/to/plan.md"
  # implement = "/path/to/implement.md"
  # code_review = "/path/to/code_review.md"
